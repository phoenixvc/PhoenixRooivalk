# Phoenix Rooivalk Keeper Service Environment Variables
# Copy this file to .env for local development
# For production, set these in your hosting platform or CI secrets
# NEVER commit real private keys or secrets to version control

# =============================================================================
# Server Configuration
# =============================================================================

# Log level for the tracing subscriber
# Values: error, warn, info, debug, trace (or module-level filters)
RUST_LOG=info

# HTTP health check port (default: 8081)
# GET /health returns "OK"
KEEPER_HTTP_PORT=8081

# =============================================================================
# Database Configuration
# =============================================================================

# SQLite database URL for the blockchain job outbox
# Schema is created automatically on startup via ensure_schema()
# Default: sqlite://blockchain_outbox.sqlite3
KEEPER_DB_URL=sqlite://blockchain_outbox.sqlite3

# =============================================================================
# Job Processing Configuration
# =============================================================================

# Interval between job processing polls in milliseconds (default: 5000)
KEEPER_POLL_MS=5000

# Interval between transaction confirmation polls in milliseconds (default: 30000)
# The confirmation loop checks whether submitted transactions have been confirmed on-chain
KEEPER_CONFIRM_POLL_MS=30000

# =============================================================================
# Blockchain Provider Configuration
# =============================================================================
# Select the blockchain provider via KEEPER_PROVIDER.
# In development, use 'stub' (the default) — no keys or network access needed.
#
# Values:
#   stub      — Simulated anchoring, always succeeds (default, safe for dev/CI)
#   etherlink — EtherLink EVM chain (requires ETHERLINK_* vars)
#   solana    — Solana blockchain (requires SOLANA_* vars)
#   multi     — Both EtherLink and Solana simultaneously

# Blockchain provider to use (default: stub)
KEEPER_PROVIDER=stub

# Legacy flag: set to 'true' to force stub provider regardless of KEEPER_PROVIDER
# Accepts: true, 1, yes, on / false, 0, no, off
# Default: false (uses real provider when KEEPER_PROVIDER is not 'stub')
KEEPER_USE_STUB=true

# =============================================================================
# EtherLink Configuration (required when KEEPER_PROVIDER=etherlink or multi)
# =============================================================================

# EtherLink RPC endpoint URL
# Default: https://node.ghostnet.etherlink.com
ETHERLINK_ENDPOINT=https://node.ghostnet.etherlink.com

# EtherLink network name (e.g. ghostnet, mainnet)
# Default: ghostnet
ETHERLINK_NETWORK=ghostnet

# EtherLink private key for signing anchoring transactions
# Required: set this when using a real EtherLink provider
# Never commit a real private key to version control
ETHERLINK_PRIVATE_KEY=

# =============================================================================
# Solana Configuration (required when KEEPER_PROVIDER=solana or multi)
# =============================================================================

# Solana RPC endpoint URL
# Default: https://api.devnet.solana.com
SOLANA_ENDPOINT=https://api.devnet.solana.com

# Solana network: 'devnet' or 'mainnet-beta'
# Default: devnet
SOLANA_NETWORK=devnet
