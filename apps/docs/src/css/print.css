/**
 * Print styles for PDF download and slide deck generation
 * Optimized for Phoenix Rooivalk dark theme documentation
 */

@media print {
  /* Hide non-essential elements when printing */
  .navbar,
  .footer,
  .pagination-nav,
  .theme-doc-sidebar-container,
  .theme-doc-toc-desktop,
  .theme-doc-toc-mobile,
  .document-download,
  .table-of-contents,
  .breadcrumbs,
  .docSidebarContainer,
  [class*="announcementBar"],
  [class*="tableOfContents"],
  [class*="tocCollapsible"],
  .print\\:hidden,
  /* Hide floating widgets and overlays */
  .sidebar-rec,
  .sidebar-rec-widget,
  .ai-widget,
  .ai-floating-widget,
  .cookie-consent,
  .offline-indicator,
  .completion-toast,
  .onboarding-walkthrough,
  .pdf-download-button,
  .pdf-download-fab,
  [class*="AIFloating"],
  [class*="SidebarRec"],
  [class*="CookieConsent"],
  [class*="floating"],
  [class*="toast"],
  [class*="widget"],
  [class*="Widget"],
  [class*="fab"],
  [class*="Fab"],
  /* Hide FOR YOU recommendations */
  [class*="for-you"],
  [class*="ForYou"],
  [class*="recommendations"],
  [class*="Recommendations"],
  /* Hide comments section */
  [class*="comment"],
  [class*="Comment"],
  [class*="feedback"],
  [class*="Feedback"],
  /* Hide edit/feedback buttons */
  .theme-edit-this-page,
  [class*="feedbackWidget"],
  [class*="editThisPage"],
  /* Hide search */
  [class*="searchBar"],
  [class*="DocSearch"],
  /* Hide theme toggle */
  [class*="colorMode"],
  [class*="themeSwitcher"],
  /* Hide any fixed/sticky positioned elements */
  [style*="position: fixed"],
  [style*="position:fixed"] {
    display: none !important;
  }

  /* Force page setup */
  @page {
    size: letter;
    margin: 0.75in;
  }

  /* Reset ALL elements to print-friendly colors */
  *,
  *::before,
  *::after {
    color-adjust: exact !important;
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
  }

  /* Reset body and main styles */
  html,
  body {
    background: white !important;
    background-color: white !important;
    color: #1a1a1a !important;
    font-size: 11pt !important;
    line-height: 1.6 !important;
    -webkit-print-color-adjust: exact !important;
  }

  /* Reset Docusaurus root element */
  #__docusaurus,
  [data-theme="dark"],
  [data-theme="light"] {
    background: white !important;
    background-color: white !important;
    color: #1a1a1a !important;
  }

  /* Main content takes full width */
  main,
  .main-wrapper,
  .docMainContainer,
  [class*="docMainContainer"],
  article,
  .markdown,
  [class*="markdown"] {
    margin: 0 !important;
    padding: 0 !important;
    max-width: 100% !important;
    width: 100% !important;
    background: white !important;
    background-color: white !important;
  }

  /* Article content styling */
  article,
  .markdown {
    padding: 0.25in 0 !important;
  }

  /* Reset all text colors for dark theme */
  p,
  span,
  div,
  li,
  dt,
  dd,
  label,
  strong,
  em,
  b,
  i {
    color: #1a1a1a !important;
    background: transparent !important;
  }

  /* Links should be dark with underline */
  a {
    color: #1a1a1a !important;
    text-decoration: underline !important;
  }

  /* Headings */
  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    page-break-after: avoid !important;
    break-after: avoid !important;
    color: #1a1a1a !important;
    background: transparent !important;
  }

  h1 {
    font-size: 22pt !important;
    margin-bottom: 14pt !important;
    border-bottom: 2pt solid #333 !important;
    padding-bottom: 8pt !important;
  }

  h2 {
    font-size: 16pt !important;
    margin-top: 18pt !important;
    margin-bottom: 10pt !important;
    border-bottom: 1pt solid #666 !important;
    padding-bottom: 6pt !important;
  }

  h3 {
    font-size: 13pt !important;
    margin-top: 14pt !important;
    margin-bottom: 8pt !important;
  }

  h4,
  h5,
  h6 {
    font-size: 11pt !important;
    margin-top: 12pt !important;
    margin-bottom: 6pt !important;
  }

  /* Paragraphs */
  p {
    orphans: 3 !important;
    widows: 3 !important;
    color: #1a1a1a !important;
    margin-bottom: 8pt !important;
  }

  /* Tables */
  table {
    border-collapse: collapse !important;
    width: 100% !important;
    page-break-inside: avoid !important;
  }

  th,
  td {
    border: 1px solid #333 !important;
    padding: 8pt !important;
    text-align: left !important;
  }

  th {
    background: #f0f0f0 !important;
    font-weight: bold !important;
  }

  /* Code blocks - ensure readable on print */
  pre,
  code {
    font-size: 9pt !important;
    background: #f8f9fa !important;
    color: #1a1a1a !important;
    border: 1px solid #ccc !important;
    page-break-inside: avoid !important;
  }

  pre {
    padding: 10pt !important;
    overflow: visible !important;
    white-space: pre-wrap !important;
    word-wrap: break-word !important;
    margin: 8pt 0 !important;
  }

  /* Inline code */
  code:not(pre code) {
    padding: 1pt 4pt !important;
    border-radius: 3pt !important;
  }

  /* Code syntax highlighting - force dark text on light bg */
  pre span,
  pre code span,
  .token,
  [class*="token"] {
    color: #1a1a1a !important;
    background: transparent !important;
  }

  /* Links - show URL */
  a[href^="http"]:after {
    content: " (" attr(href) ")";
    font-size: 9pt;
    color: #666;
  }

  a[href^="#"]:after {
    content: none;
  }

  /* Images */
  img {
    max-width: 100% !important;
    page-break-inside: avoid !important;
  }

  /* Lists */
  ul,
  ol {
    page-break-inside: avoid !important;
  }

  li {
    page-break-inside: avoid !important;
  }

  /* Blockquotes - for scripts */
  blockquote {
    border-left: 3pt solid #333 !important;
    padding-left: 12pt !important;
    margin: 12pt 0 !important;
    font-style: italic !important;
    background: #f9f9f9 !important;
    page-break-inside: avoid !important;
  }

  /* Page breaks */
  .page-break,
  .print\\:break-before-page {
    page-break-before: always !important;
    break-before: page !important;
  }

  .print\\:break-after-page {
    page-break-after: always !important;
    break-after: page !important;
  }

  /* Slide deck specific styles */
  .slidedeck-print-content {
    padding: 0 !important;
  }

  .slide-page {
    page-break-after: always !important;
    break-after: page !important;
    padding: 0.5in !important;
    min-height: calc(11in - 1in) !important;
  }

  .slide-page:last-child {
    page-break-after: auto !important;
    break-after: auto !important;
  }

  /* Slide deck print mode - hide EVERYTHING except the slide content */
  body.printing-slidedeck > *:not([class*="fixed"]) {
    display: none !important;
  }

  body.printing-slidedeck .fixed {
    position: static !important;
    background: transparent !important;
    overflow: visible !important;
    padding: 0 !important;
    inset: auto !important;
  }

  /* Hide the modal backdrop overlay */
  body.printing-slidedeck .fixed > .bg-black\/50,
  body.printing-slidedeck .fixed > [class*="bg-black"] {
    background: transparent !important;
  }

  /* Make the modal content fill the page */
  body.printing-slidedeck .fixed > div {
    margin: 0 !important;
    max-width: none !important;
    width: 100% !important;
    border-radius: 0 !important;
    box-shadow: none !important;
  }

  body.printing-slidedeck .slidedeck-print-content {
    box-shadow: none !important;
    padding: 0.5in !important;
  }

  /* Hide the modal header (Print button, close button) when printing */
  body.printing-slidedeck .print\\:hidden {
    display: none !important;
  }

  /* Dark mode reset for print */
  .dark {
    background: white !important;
    color: black !important;
  }

  [class*="dark:"] {
    background: white !important;
    color: black !important;
  }

  /* Docusaurus specific overrides */
  .theme-doc-markdown,
  [class*="docItemCol"],
  [class*="docMainContainer"],
  [class*="docItemContainer"],
  [class*="docPage"] {
    background: white !important;
    color: #1a1a1a !important;
  }

  /* Admonitions/alerts */
  [class*="admonition"],
  .alert,
  .admonition {
    background: #f8f9fa !important;
    border-left: 4px solid #666 !important;
    border-top: none !important;
    border-right: none !important;
    border-bottom: none !important;
    border-radius: 0 !important;
    padding: 10pt 12pt !important;
    margin: 12pt 0 !important;
    page-break-inside: avoid !important;
    color: #1a1a1a !important;
  }

  [class*="admonition"] * {
    color: #1a1a1a !important;
    background: transparent !important;
  }

  [class*="admonitionHeading"] {
    font-weight: bold !important;
    margin-bottom: 6pt !important;
  }

  /* Tabs - show all tab content */
  [class*="tabItem"],
  [role="tabpanel"] {
    display: block !important;
    opacity: 1 !important;
    visibility: visible !important;
  }

  /* Details/accordion - expand all */
  details {
    display: block !important;
  }

  details[open] summary ~ * {
    display: block !important;
  }

  /* Mermaid diagrams */
  .mermaid,
  [class*="mermaid"] {
    background: white !important;
    page-break-inside: avoid !important;
  }

  .mermaid text,
  .mermaid .node rect,
  .mermaid .node circle,
  .mermaid .node ellipse {
    fill: white !important;
    stroke: #333 !important;
  }

  .mermaid .edgePath path {
    stroke: #333 !important;
  }

  /* Cards and containers */
  [class*="card"],
  [class*="Card"] {
    background: white !important;
    border: 1px solid #ddd !important;
    box-shadow: none !important;
    color: #1a1a1a !important;
  }

  /* Badges */
  [class*="badge"],
  .badge {
    background: #e5e7eb !important;
    color: #1a1a1a !important;
    border: 1px solid #ccc !important;
    padding: 2pt 6pt !important;
  }
}

/* Screen styles for print preview */
@media screen {
  .slide-page {
    background: white;
    min-height: auto;
    border-radius: 8px;
  }

  .slidedeck-print-content {
    background: white;
  }
}

/* Application document print styles */
@media print {
  body.printing-application {
    background: white !important;
  }

  /* Professional table styling for applications */
  body.printing-application table {
    margin: 12pt 0 !important;
    font-size: 10pt !important;
    border: 1px solid #d1d5db !important;
    border-radius: 4pt;
  }

  body.printing-application th {
    background: #f3f4f6 !important;
    font-weight: 600 !important;
    font-size: 9pt !important;
    text-transform: uppercase !important;
    letter-spacing: 0.03em !important;
    padding: 8pt 10pt !important;
  }

  body.printing-application td {
    padding: 6pt 10pt !important;
    font-size: 10pt !important;
  }

  /* Section headers */
  body.printing-application h2 {
    color: #1a1a1a !important;
    border-bottom: 2px solid #e5e7eb;
    padding-bottom: 8pt;
    margin-top: 24pt !important;
  }

  body.printing-application h3 {
    color: #374151 !important;
  }

  /* Code/diagram blocks */
  body.printing-application pre {
    background: #f8f9fa !important;
    border: 1px solid #e5e7eb !important;
    border-radius: 4pt !important;
    font-size: 8pt !important;
    line-height: 1.4 !important;
  }

  /* Admonitions/callouts */
  body.printing-application [class*="admonition"],
  body.printing-application .alert {
    border-left: 4pt solid rgb(245, 158, 11) !important; /* amber-500 for print */
    background: rgb(255, 251, 235) !important; /* amber-50 for print */
    padding: 10pt 12pt !important;
    margin: 12pt 0 !important;
    border-radius: 0 4pt 4pt 0 !important;
  }

  /* Horizontal rules as section dividers */
  body.printing-application hr {
    border: none !important;
    border-top: 1px solid #e5e7eb !important;
    margin: 20pt 0 !important;
  }

  /* Lists */
  body.printing-application ul,
  body.printing-application ol {
    margin: 8pt 0 !important;
    padding-left: 20pt !important;
  }

  body.printing-application li {
    margin-bottom: 4pt !important;
  }

  /* Checklist items */
  body.printing-application li input[type="checkbox"] {
    margin-right: 8pt !important;
  }
}
